{% extends 'base.html.twig' %}

{% block title %}Hello DashboardController!{% endblock %}

{% block body %}
    <style>
        .example-wrapper {
            margin: 1em auto;
            max-width: 800px;
            width: 95%;
            font: 18px/1.5 sans-serif;
        }

        .example-wrapper code {
            background: #F5F5F5;
            padding: 2px 6px;
        }
    </style>

    <div class="example-wrapper">
        <h1>Hello {{ controller_name }}! âœ…</h1>

        {{ form_start(form) }}
        <div class="input-group mb-3">
            {{ form_row(form.beginDate) }}
        </div>
        <div class="input-group mb-3">
            {{ form_row(form.endDate) }}
        </div>
        <div class="input-group mb-3">
            {{ form_row(form.save) }}
        </div>
        {{ form_end(form) }}

        <p>Total expense TTC : {{ totalTe.totalTe }}</p>
        <p>Total expense HT : {{ totalTi.totalTi }}</p>
        <br>
        <p>By Category</p>
        <table>
            <tr>
                <th>cat</th>
                <th>val</th>
            </tr>

            {% for category in byCategory %}
                <tr>
                    <td>{{ category.category }}</td>
                    <td>{{ category.totalTe }}</td>
                </tr>
            {% endfor %}
        </table>
        <br>
        <p>Top 10 vehicule</p>
        <table>
            <tr>
                <th>immatriculation</th>
                <th>val</th>
            </tr>

            {% for vehicle in top10Vehicle %}
                <tr>
                    <td>{{ vehicle.plateNumber }}</td>
                    <td>{{ vehicle.totalTe }}</td>
                </tr>
            {% endfor %}

        </table>
    </div>
{% endblock %}
